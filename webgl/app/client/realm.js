// Generated by CoffeeScript 1.4.0
var Realm,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

Realm = (function() {

  function Realm(dom, window, angular, three, divID) {
    var geometry, height, material, width;
    this.dom = dom;
    this.window = window;
    this.angular = angular;
    this.three = three;
    this.animate = __bind(this.animate, this);

    this.root = this.dom.getElementById(divID);
    width = 300;
    height = 200;
    console.log(width, height);
    this.camera = new this.three.PerspectiveCamera(75, width / height, 1, 10000);
    this.camera.position.z = 1000;
    this.scene = new this.three.Scene();
    geometry = new this.three.CubeGeometry(200, 200, 200);
    material = new this.three.MeshBasicMaterial({
      color: 0xff0000,
      wireframe: true
    });
    this.mesh = new this.three.Mesh(geometry, material);
    this.scene.add(this.mesh);
    this.renderer = new this.three.CanvasRenderer();
    this.renderer.setSize(width, height);
    this.root.appendChild(this.renderer.domElement);
  }

  Realm.prototype.animate = function() {
    requestAnimationFrame(this.animate);
    this.mesh.rotation.x += 0.01;
    this.mesh.rotation.y += 0.02;
    return this.renderer.render(this.scene, this.camera);
  };

  return Realm;

})();

if (typeof window === 'undefined') {
  module.exports = Realm;
} else {
  define(function() {
    return Realm;
  });
}
